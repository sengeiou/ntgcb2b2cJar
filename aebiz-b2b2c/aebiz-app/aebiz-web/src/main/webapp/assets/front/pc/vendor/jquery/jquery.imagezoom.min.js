function MouseEvent(o){this.x=o.pageX,this.y=o.pageY}!function(o){o.fn.imagezoom=function(s){function t(){o(m).attr("alt",e),o(document.body).unbind("mousemove"),o("div.zoomMask").remove(),o("div.zoomDiv").remove()}var i={xzoom:310,yzoom:310,offset:10,position:"BTR",preload:1};s&&o.extend(i,s);var e="",m=this;o(this).bind("mouseenter",function(s){var m=o(this).offset().left,d=o(this).offset().top,v=o(this).get(0).offsetWidth,a=o(this).get(0).offsetHeight,h=o(this).parent().offset().left,f=o(this).parent().offset().top,n=o(this).parent().width();o(this).parent().height();e=o(this).attr("alt");var r=o(this).attr("rel");o(this).attr("alt",""),0==o("div.zoomDiv").get().length&&o(document.body).append("<div class='zoomDiv'><img class='bigimg' src='"+r+"'/></div><div class='zoomMask'>&nbsp;</div>"),"BTR"==i.position?h+n+i.offset+i.xzoom>screen.width?leftpos=h-i.offset-i.xzoom:leftpos=h+n+i.offset:(leftpos=m-i.xzoom-i.offset,leftpos<0&&(leftpos=m+v+i.offset)),o("div.zoomDiv").css({top:f,left:leftpos}),o("div.zoomDiv").width(i.xzoom),o("div.zoomDiv").height(i.yzoom),o("div.zoomDiv").show(),o(this).css("cursor","crosshair"),o(document.body).mousemove(function(s){if(mouse=new MouseEvent(s),mouse.x<m||mouse.x>m+v||mouse.y<d||mouse.y>d+a)return void t();var e=o(".bigimg").get(0).offsetWidth,h=o(".bigimg").get(0).offsetHeight,f="x",n="y";if(isNaN(n)|isNaN(f)){var n=e/v,f=h/a;o("div.zoomMask").width(i.xzoom/n),o("div.zoomMask").height(i.yzoom/f),o("div.zoomMask").css("visibility","visible")}xpos=mouse.x-o("div.zoomMask").width()/2,ypos=mouse.y-o("div.zoomMask").height()/2,xposs=mouse.x-o("div.zoomMask").width()/2-m,yposs=mouse.y-o("div.zoomMask").height()/2-d,xpos=mouse.x-o("div.zoomMask").width()/2<m?m:mouse.x+o("div.zoomMask").width()/2>v+m?v+m-o("div.zoomMask").width():xpos,ypos=mouse.y-o("div.zoomMask").height()/2<d?d:mouse.y+o("div.zoomMask").height()/2>a+d?a+d-o("div.zoomMask").height():ypos,o("div.zoomMask").css({top:ypos,left:xpos}),o("div.zoomDiv").get(0).scrollLeft=xposs*n,o("div.zoomDiv").get(0).scrollTop=yposs*f})}),count=0,i.preload&&(o("body").append("<div style='display:none;' class='jqPreload"+count+"'></div>"),o(this).each(function(){var s=o(this).attr("rel"),t=jQuery("div.jqPreload"+count).html();jQuery("div.jqPreload"+count).html(t+'<img src="'+s+'">')}))}}(jQuery);